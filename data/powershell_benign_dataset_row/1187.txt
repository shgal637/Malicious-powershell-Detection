$alreadyEnabled = $falsefunction Start-TestFixture{& (Join-Path -Path $PSScriptRoot -ChildPath '..\Initialize-CarbonTest.ps1' -Resolve)}function Start-Test{$alreadyEnabled = Test-FirewallStatefulFtpif( -not $alreadyEnabled ){Enable-FirewallStatefulFtp}}function Stop-Test{if( $alreadyEnabled ){Enable-FirewallStatefulFtp}else{Disable-FirewallStatefulFtp}}function Test-ShouldDisableStatefulFtp{Disable-FirewallStatefulFtp$enabled = Test-FirewallStatefulFtpAssert-False $enabled 'StatefulFtp not enabled on firewall.'}function Test-ShouldSupportWhatIf{$enabled = Test-FirewallStatefulFtpAssert-True $enabled 'StatefulFTP not enabled'Disable-FirewallStatefulFtp -WhatIf$enabled = Test-FirewallStatefulFtpAssert-True $enabled 'StatefulFTP disable with -WhatIf parameter given.'}