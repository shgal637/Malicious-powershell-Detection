function Test-CreateUpdateDatabaseReadScale ($serverVersion = "12.0", $location = "Southeast Asia"){$rg = Create-ResourceGroupForTest$server = Create-ServerForTest $rg $location$databaseName1 = Get-DatabaseName$db1 = New-AzSqlDatabase -ResourceGroupName $rg.ResourceGroupName -ServerName $server.ServerName -DatabaseName $databaseName1 -Edition PremiumAssert-AreEqual $db1.DatabaseName $databaseName1try{$db1 = Set-AzSqlDatabase -ResourceGroupName $db1.ResourceGroupName -ServerName $db1.ServerName -DatabaseName $db1.DatabaseName -ReadScale DisabledAssert-AreEqual Disabled $db1.ReadScale}finally{Remove-ResourceGroupForTest $rg}}function Test-GetDatabaseReadScale ($serverVersion = "12.0", $location = "Southeast Asia"){$rg = Create-ResourceGroupForTest$server = Create-ServerForTest $rg $location$databaseName = Get-DatabaseName$db = New-AzSqlDatabase -ResourceGroupName $rg.ResourceGroupName -ServerName $server.ServerName -DatabaseName $databaseName -Edition PremiumAssert-AreEqual $db.DatabaseName $databaseNametry{$db1 = Get-AzSqlDatabase -ResourceGroupName $server.ResourceGroupname -ServerName $server.ServerName -DatabaseName $db.DatabaseNameAssert-AreEqual Enabled $db1.ReadScaleAssert-AreEqual 1 $db1.ReadReplicaCount$db2 = Set-AzSqlDatabase -ResourceGroupName $db.ResourceGroupName -ServerName $db.ServerName -DatabaseName $db.DatabaseName `-ReadScale Disabled -ReadReplicaCount -1Assert-AreEqual Disabled $db2.ReadScaleAssert-AreEqual 0 $db2.ReadReplicaCount}finally{Remove-ResourceGroupForTest $rg}}function Test-DatabaseReadReplicaCount ($serverVersion = "12.0", $location = "Southeast Asia"){$rg = Create-ResourceGroupForTest$server = Create-ServerForTest $rg $location$databaseName = Get-DatabaseName$db = New-AzSqlDatabase -ResourceGroupName $rg.ResourceGroupName -ServerName $server.ServerName -DatabaseName $databaseName -Edition Hyperscale `-VCore 4 -ComputeGeneration Gen5Assert-AreEqual $db.DatabaseName $databaseNametry{$db1 = Get-AzSqlDatabase -ResourceGroupName $server.ResourceGroupname -ServerName $server.ServerName -DatabaseName $db.DatabaseNameAssert-AreEqual Enabled $db1.ReadScaleAssert-AreEqual 1 $db1.ReadReplicaCount$db2 = Set-AzSqlDatabase -ResourceGroupName $db.ResourceGroupName -ServerName $db.ServerName -DatabaseName $db.DatabaseName `-ReadScale Enabled -ReadReplicaCount 0Assert-AreEqual Disabled $db2.ReadScaleAssert-AreEqual 0 $db2.ReadReplicaCount}finally{Remove-ResourceGroupForTest $rg}}