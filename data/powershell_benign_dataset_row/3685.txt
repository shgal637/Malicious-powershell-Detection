function Test-AdlsGen2Crud{$resourceGroup = getAssetNametry{$AccountName = getAssetName$ShareName = getAssetName$DataSetName = getAssetName$StorageAccountId = getAssetName$FileSystemName = getAssetName$createdFileSystemDataset = New-AzDataShareDataSet -ResourceGroupName $resourceGroup -AccountName $AccountName -ShareName $ShareName -Name $DataSetName -StorageAccountResourceId $StorageAccountId -FileSystem $FileSystemNameAssert-NotNull $createdFileSystemDatasetAssert-AreEqual $DataSetName $createdFileSystemDataset.Name$FolderPath = getAssetName$createdFolderDataset = New-AzDataShareDataSet -ResourceGroupName $resourceGroup -AccountName $AccountName -ShareName $ShareName -Name $DataSetName -StorageAccountResourceId $StorageAccountId -FileSystem $FileSystemName -FolderPath $FolderPathAssert-NotNull $createdFolderDatasetAssert-AreEqual $DataSetName $createdFolderDataset.Name$FilePath = getAssetName$createdFileDataSet = New-AzDataShareDataSet -ResourceGroupName $resourceGroup -AccountName $AccountName -ShareName $ShareName -Name $DataSetName -StorageAccountResourceId $StorageAccountId -FileSystem $FileSystemName -FilePath $FilePathAssert-NotNull $createdFileDataSetAssert-AreEqual $DataSetName $createdFileDataSet.Name}finally{Remove-AzResourceGroup -Name $resourceGroup -Force}}