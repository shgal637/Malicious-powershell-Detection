function Test-E2ESchedules{$resourceGroupName = "to-delete-01"$automationAccountName = "fbs-aa-01"$output = Get-AzAutomationAccount -ResourceGroupName $resourceGroupName -AutomationAccountName $automationAccountName -ErrorAction SilentlyContinue$StartTime = Get-Date "13:00:00"$StartTime = $StartTime.AddDays(1)$EndTime = $StartTime.AddYears(1)$ScheduleName = "Schedule3"New-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name "Schedule3" `-StartTime $StartTime `-ExpiryTime $EndTime `-DayInterval 1 `-Description "Hello"New-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleName `-StartTime $StartTime `-ExpiryTime $EndTime `-WeekInterval 3 `-Description "Hello Again"$getSchedule = Get-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleNameAssert-AreEqual "Hello Again"  $getSchedule.DescriptionAssert-AreEqual 3 $getSchedule.IntervalSet-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleName `-Description "Goodbye" `-IsEnabled $FALSE $getSchedule = Get-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleNameAssert-AreEqual "Goodbye"  $getSchedule.DescriptionAssert-AreEqual $FALSE  $getSchedule.IsEnabledRemove-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleName `-Force$getSchedule = Get-AzAutomationSchedule -ResourceGroupName $resourceGroupName `-AutomationAccountName $automationAccountName `-Name $ScheduleName -ErrorAction SilentlyContinueAssert-True {$getSchedule -eq $null}}