function Test-ListBillingPeriods{$billingPeriods = Get-AzBillingPeriodAssert-True {$billingPeriods.Count -ge 1}Assert-NotNull $billingPeriods[0].NameAssert-NotNull $billingPeriods[0].IdAssert-NotNull $billingPeriods[0].TypeAssert-NotNull $billingPeriods[0].BillingPeriodStartDateAssert-NotNull $billingPeriods[0].BillingPeriodEndDate}function Test-ListBillingPeriodsWithMaxCount{$billingPeriods = Get-AzBillingPeriod -MaxCount 1Assert-True {$billingPeriods.Count -eq 1}Assert-NotNull $billingPeriods[0].NameAssert-NotNull $billingPeriods[0].IdAssert-NotNull $billingPeriods[0].TypeAssert-NotNull $billingPeriods[0].BillingPeriodStartDateAssert-NotNull $billingPeriods[0].BillingPeriodEndDate}function Test-GetBillingPeriodWithName{$billingPeriods = Get-AzBillingPeriod | where { $_.InvoiceNames.Count -eq 1 }Assert-True {$billingPeriods.Count -ge 1}$billingPeriodName = $billingPeriods[0].Name$billingInvoiceName = $billingPeriods[0].InvoiceNames[0]$billingPeriod = Get-AzBillingPeriod -Name $billingPeriodNameAssert-AreEqual $billingPeriodName $billingPeriod.NameAssert-NotNull $billingPeriod.IdAssert-NotNull $billingPeriod.TypeAssert-NotNull $billingPeriod.BillingPeriodStartDateAssert-NotNull $billingPeriod.BillingPeriodEndDateAssert-NotNull $billingPeriod.InvoiceNamesAssert-AreEqual 1 $billingPeriod.InvoiceNames.CountAssert-AreEqual $billingInvoiceName $billingPeriod.InvoiceNames}function Test-GetBillingPeriodWithNames{$sampleBillingPeriods = Get-AzBillingPeriodAssert-True {$sampleBillingPeriods.Count -gt 1}$billingPeriodNames = $sampleBillingPeriods | %{ $_.Name }$billingPeriods = Get-AzBillingPeriod -Name $billingPeriodNamesAssert-AreEqual $sampleBillingPeriods.Count $billingPeriods.CountForeach($billingPeriod in $billingPeriods){Assert-NotNull $billingPeriod.IdAssert-NotNull $billingPeriod.TypeAssert-NotNull $billingPeriod.BillingPeriodStartDateAssert-NotNull $billingPeriod.BillingPeriodEndDate}}