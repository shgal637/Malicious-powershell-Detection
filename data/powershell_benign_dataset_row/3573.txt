function Test-CreateAttestation{$unknownRGName = getAssetName$attestationName = getAssetName$attestationPolicy = "SgxDisableDebugMode"try{$rgName = Create-ResourceGroup$attestationCreated = New-AzAttestation -Name $attestationName -ResourceGroupName $rgName.ResourceGroupName -AttestationPolicy $attestationPolicyAssert-NotNull attestationCreatedAssert-AreEqual $attestationName $attestationCreated.NameAssert-NotNull attestationCreated.AttesUriAssert-NotNull attestationCreated.IdAssert-NotNull attestationCreated.StatusAssert-Throws { New-AzAttestation -Name $attestationName  -ResourceGroupName $rgName.ResourceGroupName -AttestationPolicy $attestationPolicy}Assert-Throws { New-AzAttestation -Name $attestationName -ResourceGroupName $unknownRGName -AttestationPolicy $attestationPolicy}}finally{Clean-ResourceGroup $rgName.ResourceGroupName}}function Test-GetAttestation{	$attestationName = getAssetName$attestationPolicy = "SgxDisableDebugMode"try{$rgName = Create-ResourceGroupNew-AzAttestation -Name $attestationName -ResourceGroupName $rgName.ResourceGroupName -AttestationPolicy $attestationPolicy$got = Get-AzAttestation  -Name $attestationName  -ResourceGroupName $rgName.ResourceGroupNameAssert-NotNull gotAssert-AreEqual $attestationName $got.Name}finally{Clean-ResourceGroup $rgName.ResourceGroupName}}function Test-DeleteAttestationByName{$attestationName = getAssetName$attestationPolicy = "SgxDisableDebugMode"try{$rgName = Create-ResourceGroupNew-AzAttestation -Name $attestationName -ResourceGroupName $rgName.ResourceGroupName -AttestationPolicy $attestationPolicyRemove-AzAttestation  -Name $attestationName  -ResourceGroupName $rgName.ResourceGroupName Assert-Throws {Get-AzAttestation  -Name $attestationName  -ResourceGroupName $rgName.ResourceGroupName}}finally{Clean-ResourceGroup $rgName.ResourceGroupName}}