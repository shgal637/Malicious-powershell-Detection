function Test-ListInvoices{$billingInvoices = Get-AzBillingInvoiceAssert-True {$billingInvoices.Count -ge 1}Assert-NotNull $billingInvoices[0].NameAssert-NotNull $billingInvoices[0].IdAssert-NotNull $billingInvoices[0].TypeAssert-NotNull $billingInvoices[0].InvoicePeriodStartDateAssert-NotNull $billingInvoices[0].InvoicePeriodEndDateAssert-Null $billingInvoices[0].DownloadUrlAssert-Null $billingInvoices[0].DownloadUrlExpiry}function Test-ListInvoicesWithDownloadUrl{$billingInvoices = Get-AzBillingInvoice -GenerateDownloadUrlAssert-True {$billingInvoices.Count -ge 1}Assert-NotNull $billingInvoices[0].NameAssert-NotNull $billingInvoices[0].IdAssert-NotNull $billingInvoices[0].TypeAssert-NotNull $billingInvoices[0].InvoicePeriodStartDateAssert-NotNull $billingInvoices[0].InvoicePeriodEndDateAssert-NotNull $billingInvoices[0].DownloadUrlAssert-NotNull $billingInvoices[0].DownloadUrlExpiry}function Test-ListInvoicesWithMaxCount{$billingInvoices = Get-AzBillingInvoice -GenerateDownloadUrl -MaxCount 1Assert-True {$billingInvoices.Count -eq 1}Assert-NotNull $billingInvoices[0].NameAssert-NotNull $billingInvoices[0].IdAssert-NotNull $billingInvoices[0].TypeAssert-NotNull $billingInvoices[0].InvoicePeriodStartDateAssert-NotNull $billingInvoices[0].InvoicePeriodEndDateAssert-NotNull $billingInvoices[0].DownloadUrlAssert-NotNull $billingInvoices[0].DownloadUrlExpiry}function Test-GetLatestInvoice{$invoice = Get-AzBillingInvoice -LatestAssert-NotNull $invoice.NameAssert-NotNull $invoice.IdAssert-NotNull $invoice.TypeAssert-NotNull $invoice.InvoicePeriodStartDateAssert-NotNull $invoice.InvoicePeriodEndDateAssert-NotNull $invoice.DownloadUrlAssert-NotNull $invoice.DownloadUrlExpiry}function Test-GetInvoiceWithName{$sampleInvoices = Get-AzBillingInvoiceAssert-True { $sampleInvoices.Count -ge 1 }$invoice = Get-AzBillingInvoice -Name $sampleInvoices[0].NameAssert-AreEqual $invoice.Id $sampleInvoices[0].Id}function Test-GetInvoiceWithNames{$sampleInvoices = Get-AzBillingInvoiceAssert-True { $sampleInvoices.Count -gt 1 }$billingInvoices = Get-AzBillingInvoice -Name $sampleInvoices.NameAssert-AreEqual $sampleInvoices.Count $billingInvoices.Count}