function Test-GetAgreementTerms{$PublisherId = "microsoft-ads"$ProductId = "windows-data-science-vm"$PlanId = "windows2016"$agreementTerms = Get-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanIdAssert-NotNull $agreementTermsAssert-NotNull $agreementTerms.LicenseTextLinkAssert-NotNull $agreementTerms.PrivacyPolicyLinkAssert-NotNull $agreementTerms.Signature}function Test-SetAgreementTermsNotAccepted{$PublisherId = "microsoft-ads"$ProductId = "windows-data-science-vm"$PlanId = "windows2016"$agreementTerms = Get-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanIdAssert-NotNull $agreementTermsAssert-NotNull $agreementTerms.LicenseTextLinkAssert-NotNull $agreementTerms.PrivacyPolicyLinkAssert-NotNull $agreementTerms.Signature$newAgreementTerms = Set-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanId -RejectAssert-NotNull $newAgreementTermsAssert-NotNull $newAgreementTerms.LicenseTextLinkAssert-NotNull $newAgreementTerms.PrivacyPolicyLinkAssert-NotNull $newAgreementTerms.SignatureAssert-AreEqual false $newAgreementTerms.Accepted}function Test-SetAgreementTermsAccepted{$PublisherId = "microsoft-ads"$ProductId = "windows-data-science-vm"$PlanId = "windows2016"$agreementTerms = Get-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanIdAssert-NotNull $agreementTermsAssert-NotNull $agreementTerms.LicenseTextLinkAssert-NotNull $agreementTerms.PrivacyPolicyLinkAssert-NotNull $agreementTerms.Signature$newAgreementTerms = Set-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanId -Terms $agreementTerms -AcceptAssert-NotNull $newAgreementTermsAssert-NotNull $newAgreementTerms.LicenseTextLinkAssert-NotNull $newAgreementTerms.PrivacyPolicyLinkAssert-NotNull $newAgreementTerms.SignatureAssert-AreEqual true $newAgreementTerms.Accepted}function Test-SetAgreementTermsAcceptedPipelineGet{$PublisherId = "microsoft-ads"$ProductId = "windows-data-science-vm"$PlanId = "windows2016"$newAgreementTerms = Get-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanId|Set-AzMarketplaceTerms -AcceptAssert-NotNull $newAgreementTermsAssert-NotNull $newAgreementTerms.LicenseTextLinkAssert-NotNull $newAgreementTerms.PrivacyPolicyLinkAssert-NotNull $newAgreementTerms.SignatureAssert-AreEqual true $newAgreementTerms.Accepted}function Test-SetAgreementTermsRejectedPipelineGet{$PublisherId = "microsoft-ads"$ProductId = "windows-data-science-vm"$PlanId = "windows2016"$newAgreementTerms = Get-AzMarketplaceTerms -Publisher $PublisherId -Product $ProductId -Name $PlanId|Set-AzMarketplaceTerms -RejectAssert-NotNull $newAgreementTermsAssert-NotNull $newAgreementTerms.LicenseTextLinkAssert-NotNull $newAgreementTerms.PrivacyPolicyLinkAssert-NotNull $newAgreementTerms.SignatureAssert-AreEqual false $newAgreementTerms.Accepted}